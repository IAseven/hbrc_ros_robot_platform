EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A 11000 8500
encoding utf-8
Sheet 1 9
Title "HR2 Master Board"
Date "2020-03-10"
Rev "Rev. A"
Comp "HBRC ROS Robot (HR2) Platform"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 4250 1500 750  900 
U 5E70B1EA
F0 "ST-Link" 50
F1 "st_link.sch" 50
F2 "NRST" B R 5000 1600 50 
F3 "TCK" B R 5000 1700 50 
F4 "TMS" B R 5000 1800 50 
F5 "SWO" B R 5000 1900 50 
F6 "STLK_RX" I R 5000 2000 50 
F7 "STLK_TX" O R 5000 2100 50 
F8 "MCO" B R 5000 2200 50 
F9 "~PWR_EN" O R 5000 2300 50 
F10 "GND" O L 4250 2300 50 
F11 "5V" I L 4250 1600 50 
$EndSheet
Wire Wire Line
	5000 1600 5450 1600
Wire Wire Line
	5000 1700 5450 1700
Wire Wire Line
	5000 1800 5450 1800
Wire Wire Line
	5000 1900 5450 1900
Wire Wire Line
	5000 2000 5450 2000
Wire Wire Line
	5000 2100 5450 2100
Wire Wire Line
	5000 2200 5450 2200
$Sheet
S 5450 1500 1000 3550
U 5E70BC9A
F0 "NUCLEO-144" 50
F1 "nucleo_144.sch" 50
F2 "NRST" B L 5450 1600 50 
F3 "TCK" B L 5450 1700 50 
F4 "TMS" B L 5450 1800 50 
F5 "SWO" B L 5450 1900 50 
F6 "STLK_TX" O L 5450 2000 50 
F7 "STLK_RX" I L 5450 2100 50 
F8 "MCO" B L 5450 2200 50 
F9 "M1HB" O R 6450 1700 50 
F10 "M1HA" O R 6450 1600 50 
F11 "M1LA" O R 6450 1800 50 
F12 "M1LB" O R 6450 1900 50 
F13 "M2HA" O R 6450 2000 50 
F14 "M2HB" O R 6450 2100 50 
F15 "M2LA" O R 6450 2200 50 
F16 "M2LB" O R 6450 2300 50 
F17 "ENC1A" I R 6450 2500 50 
F18 "ENC1B" I R 6450 2600 50 
F19 "ENC2A" I R 6450 2700 50 
F20 "ENC2B" I R 6450 2800 50 
F21 "S1ECHO" I R 6450 3350 50 
F22 "S2ECHO" O R 6450 3550 50 
F23 "S3ECHO" O R 6450 3750 50 
F24 "S4ECHO" O R 6450 3950 50 
F25 "S5ECHO" O R 6450 4150 50 
F26 "S6ECHO" O R 6450 4350 50 
F27 "S7ECHO" O R 6450 4550 50 
F28 "S8ECHO" O R 6450 4750 50 
F29 "S9ECHO" O R 6450 4950 50 
F30 "S1TRIG" O R 6450 3250 50 
F31 "S2TRIG" O R 6450 3450 50 
F32 "S3TRIG" O R 6450 3650 50 
F33 "S4TRIG" O R 6450 3850 50 
F34 "S5TRIG" O R 6450 4050 50 
F35 "S6TRIG" O R 6450 4250 50 
F36 "S7TRIG" O R 6450 4450 50 
F37 "S8TRIG" O R 6450 4650 50 
F38 "S9TRIG" O R 6450 4850 50 
F39 "PI_TX" O L 5450 3900 50 
F40 "PI_RX" I L 5450 4000 50 
$EndSheet
Wire Wire Line
	6450 1600 6950 1600
Wire Wire Line
	6450 1700 6950 1700
Wire Wire Line
	6450 1800 6950 1800
Wire Wire Line
	6450 1900 6950 1900
Wire Wire Line
	6450 2000 6950 2000
Wire Wire Line
	6450 2100 6950 2100
Wire Wire Line
	6450 2200 6950 2200
Wire Wire Line
	6450 2300 6950 2300
$Sheet
S 6950 1500 1000 1400
U 5E70BF73
F0 "Motors/Encoders" 50
F1 "motors_encoders.sch" 50
F2 "M1HA" I L 6950 1600 50 
F3 "M1HB" I L 6950 1700 50 
F4 "M1LA" I L 6950 1800 50 
F5 "M1LB" I L 6950 1900 50 
F6 "M2HA" I L 6950 2000 50 
F7 "M2HB" I L 6950 2100 50 
F8 "M2LA" I L 6950 2200 50 
F9 "M2LB" I L 6950 2300 50 
F10 "ENC1A" O L 6950 2500 50 
F11 "ENC1B" O L 6950 2600 50 
F12 "ENC2A" O L 6950 2700 50 
F13 "ENC2B" O L 6950 2800 50 
F14 "M5V" I R 7950 1600 50 
F15 "3V3" I R 7950 1700 50 
F16 "GND" O R 7950 2800 50 
$EndSheet
Wire Wire Line
	6450 2500 6950 2500
Wire Wire Line
	6450 2600 6950 2600
Wire Wire Line
	6450 2700 6950 2700
Wire Wire Line
	6450 2800 6950 2800
$Sheet
S 6950 3150 1000 1900
U 5E70D967
F0 "Sonars" 50
F1 "sonars.sch" 50
F2 "S1TRIG" I L 6950 3250 50 
F3 "S1ECHO" O L 6950 3350 50 
F4 "S2ECHO" O L 6950 3550 50 
F5 "S3ECHO" O L 6950 3750 50 
F6 "S4ECHO" O L 6950 3950 50 
F7 "S5ECHO" O L 6950 4150 50 
F8 "S6ECHO" O L 6950 4350 50 
F9 "S7ECHO" O L 6950 4550 50 
F10 "S8ECHO" O L 6950 4750 50 
F11 "S9ECHO" O L 6950 4950 50 
F12 "S2TRIG" O L 6950 3450 50 
F13 "S3TRIG" O L 6950 3650 50 
F14 "S4TRIG" O L 6950 3850 50 
F15 "S5TRIG" O L 6950 4050 50 
F16 "S6TRIG" O L 6950 4250 50 
F17 "S7TRIG" O L 6950 4450 50 
F18 "S8TRIG" O L 6950 4650 50 
F19 "S9TRIG" O L 6950 4850 50 
F20 "5V" I R 7950 3250 50 
F21 "GND" O R 7950 4950 50 
$EndSheet
Wire Wire Line
	6450 3250 6950 3250
Wire Wire Line
	6950 3350 6450 3350
Wire Wire Line
	6450 3450 6950 3450
Wire Wire Line
	6450 3550 6950 3550
Wire Wire Line
	6950 3650 6450 3650
Wire Wire Line
	6450 3750 6950 3750
Wire Wire Line
	6950 3850 6450 3850
Wire Wire Line
	6450 3950 6950 3950
Wire Wire Line
	6950 4050 6450 4050
Wire Wire Line
	6450 4150 6950 4150
Wire Wire Line
	6950 4250 6450 4250
Wire Wire Line
	6450 4350 6950 4350
Wire Wire Line
	6950 4450 6450 4450
Wire Wire Line
	6950 4550 6450 4550
Wire Wire Line
	6950 4650 6450 4650
Wire Wire Line
	6450 4750 6950 4750
Wire Wire Line
	6950 4850 6450 4850
Wire Wire Line
	6450 4950 6950 4950
$Sheet
S 4250 2600 750  1000
U 5E713CD3
F0 "LED's/Board Rev." 50
F1 "leds_board_rev.sch" 50
F2 "REV" I R 5000 2700 50 
F3 "LED_BIT0" B R 5000 2800 50 
F4 "LED_BIT1" B R 5000 2900 50 
F5 "LED_BIT2" B R 5000 3000 50 
F6 "LED_BIT3" B R 5000 3100 50 
F7 "LED_BIT4" B R 5000 3200 50 
F8 "LED_BIT5" B R 5000 3300 50 
F9 "LED_BIT6" B R 5000 3400 50 
F10 "LED_BIT7" B R 5000 3500 50 
$EndSheet
Text HLabel 5450 2700 2    50   Output ~ 0
REV
Text HLabel 5450 2800 2    50   BiDi ~ 0
LED_BIT0
Text HLabel 5450 2900 2    50   BiDi ~ 0
LED_BIT1
Text HLabel 5450 3000 2    50   BiDi ~ 0
LED_BIT2
Text HLabel 5450 3100 2    50   BiDi ~ 0
LED_BIT3
Text HLabel 5450 3200 2    50   BiDi ~ 0
LED_BIT4
Text HLabel 5450 3300 2    50   BiDi ~ 0
LED_BIT5
Text HLabel 5450 3400 2    50   BiDi ~ 0
LED_BIT6
Text HLabel 5450 3500 2    50   BiDi ~ 0
LED_BIT7
Wire Wire Line
	5000 2700 5450 2700
Wire Wire Line
	5450 2800 5000 2800
Wire Wire Line
	5000 2900 5450 2900
Wire Wire Line
	5450 3000 5000 3000
Wire Wire Line
	5000 3100 5450 3100
Wire Wire Line
	5450 3200 5000 3200
Wire Wire Line
	5450 3300 5000 3300
Wire Wire Line
	5450 3400 5000 3400
Wire Wire Line
	5450 3500 5000 3500
Text HLabel 4250 3500 2    50   Output ~ 0
GND
$Sheet
S 4250 4500 750  500 
U 5E71AE32
F0 "Power" 50
F1 "power.sch" 50
F2 "GND" I L 4250 4900 50 
F3 "M5V" O L 4250 4600 50 
F4 "5V" O L 4250 4700 50 
F5 "3V3" O L 4250 4800 50 
F6 "HALT_REQ" O R 5000 4600 50 
F7 "HALTED" I R 5000 4700 50 
$EndSheet
Wire Wire Line
	4250 2300 4150 2300
Wire Wire Line
	4150 2300 4150 3500
Wire Wire Line
	4150 3500 4250 3500
Wire Wire Line
	4150 3500 4150 4200
Wire Wire Line
	4150 4900 4250 4900
Connection ~ 4150 3500
Wire Wire Line
	4150 4900 4150 5300
Wire Wire Line
	4150 5300 8100 5300
Wire Wire Line
	8100 5300 8100 4950
Wire Wire Line
	8100 4950 7950 4950
Connection ~ 4150 4900
Wire Wire Line
	8100 4950 8100 2800
Wire Wire Line
	8100 2800 7950 2800
Connection ~ 8100 4950
Wire Wire Line
	4250 4700 3950 4700
Wire Wire Line
	3950 4700 3950 3900
Wire Wire Line
	3950 1600 4250 1600
Wire Wire Line
	4250 4800 3850 4800
Wire Wire Line
	3850 4800 3850 1250
Wire Wire Line
	3850 1250 8150 1250
Wire Wire Line
	8150 1250 8150 1700
Wire Wire Line
	8150 1700 7950 1700
Wire Wire Line
	4250 4600 4050 4600
Wire Wire Line
	4050 4600 4050 1350
Wire Wire Line
	4050 1350 8050 1350
Wire Wire Line
	8050 1350 8050 1600
Wire Wire Line
	8050 1600 7950 1600
$Sheet
S 4250 3800 750  500 
U 5E72D1FA
F0 "PI/RTC" 50
F1 "pi_rtc.sch" 50
F2 "GND" O L 4250 4200 50 
F3 "5V" I L 4250 3900 50 
F4 "HALT_REQ" I R 5000 4200 50 
F5 "HALTED" O R 5000 4100 50 
F6 "PI_TX" O R 5000 4000 50 
F7 "PI_RX" I R 5000 3900 50 
$EndSheet
Wire Wire Line
	5000 3900 5450 3900
Wire Wire Line
	5000 4000 5450 4000
Wire Wire Line
	5000 4600 5100 4600
Wire Wire Line
	5100 4600 5100 4200
Wire Wire Line
	5100 4200 5000 4200
Wire Wire Line
	5000 4100 5200 4100
Wire Wire Line
	5200 4100 5200 4700
Wire Wire Line
	5200 4700 5000 4700
Text Notes 3900 6250 0    50   ~ 0
Notes:\n1. All of the servo, Grove, MikroBus, Dynamixel connectors are TBD.\n2. The power circuit can request a gentle shut down of the Pi.\n3. Any Pololu Buck/Boost regulators are in the power module.
$Sheet
S 4900 6900 950  150 
U 5E7063BE
F0 "Mounting Holes" 50
F1 "mounting_holes.sch" 50
$EndSheet
Wire Wire Line
	4250 3900 3950 3900
Connection ~ 3950 3900
Wire Wire Line
	3950 3900 3950 1600
Wire Wire Line
	4250 4200 4150 4200
Connection ~ 4150 4200
Wire Wire Line
	4150 4200 4150 4900
Wire Wire Line
	3950 4700 3950 5400
Wire Wire Line
	3950 5400 8200 5400
Wire Wire Line
	8200 5400 8200 3250
Wire Wire Line
	8200 3250 7950 3250
Connection ~ 3950 4700
$EndSCHEMATC
